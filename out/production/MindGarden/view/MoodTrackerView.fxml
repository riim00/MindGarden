<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.image.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<StackPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
           fx:controller="mindgarden.controller.MoodTrackerViewController"
           prefHeight="700.0" prefWidth="900.0">

    <!-- Background Layers -->
    <Pane fx:id="auroraPane" pickOnBounds="false" />
    <Pane fx:id="sparklesPane" pickOnBounds="false" />
    <Pane fx:id="moodAnimationPane" pickOnBounds="false" />

    <!-- Dark Overlay (Semi-transparent) -->
    <StackPane style="-fx-background-color: linear-gradient(to bottom right, rgba(42,108,73,0.3), rgba(19,54,70,0.4));" />

    <!-- Main Content Container -->
    <BorderPane style="-fx-background-color: rgba(255,255,255,0.12); -fx-background-radius: 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 15, 0, 0, 5);">
        <padding>
            <Insets top="20" right="25" bottom="20" left="25" />
        </padding>

        <!-- Header Section -->
        <top>
            <VBox spacing="5" alignment="CENTER">
                <padding>
                    <Insets top="15" bottom="20" />
                </padding>

                <!-- App Header with Logo -->
                <HBox alignment="CENTER" spacing="10">
                    <StackPane>
                        <Circle radius="22" fill="#43a047" />
                        <Text text="🌿" style="-fx-font-size: 24;" />
                    </StackPane>
                    <Label text="MindGarden" style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: white;">
                        <effect>
                            <DropShadow radius="2" spread="0.2" color="rgba(0,0,0,0.3)" />
                        </effect>
                    </Label>
                </HBox>

                <!-- Page Title -->
                <Label text="Mood Tracker" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #e8f5e9;">
                    <effect>
                        <Glow level="0.3" />
                    </effect>
                </Label>

                <!-- Navigation Tabs -->
                <HBox alignment="CENTER" spacing="5" style="-fx-padding: 15 0 5 0;">
                    <TabPane tabClosingPolicy="UNAVAILABLE" style="-fx-background-color: transparent; -fx-tab-min-width: 120;">
                        <tabs>
                            <Tab text="Overview" style="-fx-background-color: rgba(67,160,71,0.7); -fx-text-fill: white;" />
                            <Tab text="Trends" style="-fx-background-color: rgba(67,160,71,0.4); -fx-text-fill: white;" />
                            <Tab text="Journal" style="-fx-background-color: rgba(67,160,71,0.4); -fx-text-fill: white;" />
                            <Tab text="Insights" style="-fx-background-color: rgba(67,160,71,0.4); -fx-text-fill: white;" />
                        </tabs>
                    </TabPane>
                </HBox>
            </VBox>
        </top>

        <!-- Main Content Area -->
        <center>
            <VBox spacing="20">
                <!-- Daily Mood Selection -->
                <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.15); -fx-background-radius: 16; -fx-padding: 20;">
                    <effect>
                        <DropShadow radius="10" spread="0.05" color="rgba(0,0,0,0.2)" />
                    </effect>

                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="How are you feeling today?" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: white;" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Label text="May 6, 2025" style="-fx-font-size: 14; -fx-text-fill: #e8f5e9;" />
                    </HBox>

                    <HBox spacing="15" alignment="CENTER">
                        <VBox alignment="CENTER" spacing="5" style="-fx-cursor: hand;">
                            <StackPane>
                                <Circle radius="30" style="-fx-fill: radial-gradient(center 50% 50%, radius 100%, #ffeb3b, #fbc02d);" />
                                <Text text="😄" style="-fx-font-size: 32;" />
                            </StackPane>
                            <Label text="Great" style="-fx-text-fill: white; -fx-font-size: 14;" />
                        </VBox>

                        <VBox alignment="CENTER" spacing="5" style="-fx-cursor: hand;">
                            <StackPane>
                                <Circle radius="30" style="-fx-fill: radial-gradient(center 50% 50%, radius 100%, #8bc34a, #689f38);" />
                                <Text text="🙂" style="-fx-font-size: 32;" />
                            </StackPane>
                            <Label text="Good" style="-fx-text-fill: white; -fx-font-size: 14;" />
                        </VBox>

                        <VBox alignment="CENTER" spacing="5" style="-fx-cursor: hand;">
                            <StackPane>
                                <Circle radius="30" style="-fx-fill: radial-gradient(center 50% 50%, radius 100%, #90caf9, #42a5f5);" />
                                <Text text="😐" style="-fx-font-size: 32;" />
                            </StackPane>
                            <Label text="Neutral" style="-fx-text-fill: white; -fx-font-size: 14;" />
                        </VBox>

                        <VBox alignment="CENTER" spacing="5" style="-fx-cursor: hand;">
                            <StackPane>
                                <Circle radius="30" style="-fx-fill: radial-gradient(center 50% 50%, radius 100%, #ce93d8, #ab47bc);" />
                                <Text text="😕" style="-fx-font-size: 32;" />
                            </StackPane>
                            <Label text="Low" style="-fx-text-fill: white; -fx-font-size: 14;" />
                        </VBox>

                        <VBox alignment="CENTER" spacing="5" style="-fx-cursor: hand;">
                            <StackPane>
                                <Circle radius="30" style="-fx-fill: radial-gradient(center 50% 50%, radius 100%, #ef9a9a, #e57373);" />
                                <Text text="😢" style="-fx-font-size: 32;" />
                            </StackPane>
                            <Label text="Struggling" style="-fx-text-fill: white; -fx-font-size: 14;" />
                        </VBox>
                    </HBox>

                    <TextArea promptText="Add a note about your day (optional)"
                              style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-prompt-text-fill: rgba(255,255,255,0.6);"
                              prefRowCount="3" wrapText="true" />

                    <HBox alignment="CENTER_RIGHT">
                        <Button text="Save Entry" style="-fx-background-color: #43a047; -fx-text-fill: white; -fx-background-radius: 6; -fx-font-weight: bold; -fx-padding: 8 20;">
                            <effect>
                                <DropShadow radius="5" spread="0.1" color="rgba(0,0,0,0.3)" />
                            </effect>
                        </Button>
                    </HBox>
                </VBox>

                <!-- Mood Chart -->
                <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.15); -fx-background-radius: 16; -fx-padding: 20;">
                    <effect>
                        <DropShadow radius="10" spread="0.05" color="rgba(0,0,0,0.2)" />
                    </effect>

                    <HBox alignment="CENTER_LEFT">
                        <Label text="Your Mood Journey" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: white;" />
                        <Region HBox.hgrow="ALWAYS" />
                        <ComboBox value="Last 7 Days">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Last 7 Days" />
                                    <String fx:value="Last 30 Days" />
                                    <String fx:value="Last 90 Days" />
                                    <String fx:value="Custom Range" />
                                </FXCollections>
                            </items>
                            <style>
                                -fx-background-color: rgba(255,255,255,0.2);
                                -fx-text-fill: white;
                            </style>
                        </ComboBox>
                    </HBox>

                    <LineChart createSymbols="true" legendVisible="false" animated="true" style="-fx-background-color: transparent; -fx-text-fill: white;">
                        <xAxis>
                            <CategoryAxis side="BOTTOM" tickLabelFill="white" style="-fx-tick-label-fill: white;" />
                        </xAxis>
                        <yAxis>
                            <NumberAxis side="LEFT" tickLabelFill="white" style="-fx-tick-label-fill: white;" />
                        </yAxis>
                        <effect>
                            <Glow level="0.2" />
                        </effect>
                    </LineChart>
                </VBox>

                <!-- Mood Statistics -->
                <HBox spacing="15">
                    <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.15); -fx-background-radius: 16; -fx-padding: 20;" HBox.hgrow="ALWAYS">
                        <effect>
                            <DropShadow radius="10" spread="0.05" color="rgba(0,0,0,0.2)" />
                        </effect>

                        <Label text="Mood Distribution" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: white;" />

                        <PieChart labelsVisible="true" startAngle="90" animated="true" style="-fx-pie-label-visible: true; -fx-background-color: transparent; -fx-legend-visible: true; -fx-legend-side: RIGHT;">
                            <effect>
                                <Glow level="0.2" />
                            </effect>
                        </PieChart>
                    </VBox>

                    <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.15); -fx-background-radius: 16; -fx-padding: 20;" HBox.hgrow="ALWAYS">
                        <effect>
                            <DropShadow radius="10" spread="0.05" color="rgba(0,0,0,0.2)" />
                        </effect>

                        <Label text="Insights" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: white;" />

                        <VBox spacing="15" style="-fx-padding: 10;">
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <StackPane>
                                    <Circle radius="18" fill="#43a047" />
                                    <Text text="💡" style="-fx-font-size: 18;" />
                                </StackPane>
                                <Label text="Your mood tends to be higher on weekends" wrapText="true" style="-fx-text-fill: white; -fx-font-size: 14;" />
                            </HBox>

                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <StackPane>
                                    <Circle radius="18" fill="#43a047" />
                                    <Text text="⭐" style="-fx-font-size: 18;" />
                                </StackPane>
                                <Label text="Morning meditation appears to boost your mood" wrapText="true" style="-fx-text-fill: white; -fx-font-size: 14;" />
                            </HBox>

                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <StackPane>
                                    <Circle radius="18" fill="#43a047" />
                                    <Text text="🔄" style="-fx-font-size: 18;" />
                                </StackPane>
                                <Label text="Try taking a nature walk when feeling low" wrapText="true" style="-fx-text-fill: white; -fx-font-size: 14;" />
                            </HBox>
                        </VBox>

                        <Region VBox.vgrow="ALWAYS" />

                        <Button text="View Full Analysis" style="-fx-background-color: rgba(67,160,71,0.6); -fx-text-fill: white; -fx-background-radius: 6;">
                            <effect>
                                <DropShadow radius="5" spread="0.1" color="rgba(0,0,0,0.3)" />
                            </effect>
                        </Button>
                    </VBox>
                </HBox>
            </VBox>
        </center>

        <!-- Footer Section -->
        <bottom>
            <HBox alignment="CENTER" spacing="20" style="-fx-padding: 15 0 5 0;">
                <Button text="Dashboard" style="-fx-background-color: transparent; -fx-text-fill: #e8f5e9;" />
                <Button text="Mood Tracker" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold;" />
                <Button text="Meditation" style="-fx-background-color: transparent; -fx-text-fill: #e8f5e9;" />
                <Button text="Journal" style="-fx-background-color: transparent; -fx-text-fill: #e8f5e9;" />
                <Button text="Profile" style="-fx-background-color: transparent; -fx-text-fill: #e8f5e9;" />
            </HBox>
        </bottom>
    </BorderPane>
</StackPane>